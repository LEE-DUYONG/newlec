<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.newlec.dao.NoticeBoardDao">

	<!-- 계시물 리스트 조회 -->
	<select id="getBoardList" resultType="com.newlec.domain.NoticeBoardVO">
		SELECT NUM, TITLE, CREATED_DATE　"createdDate", HIT, a.id ||'('|| a.username ||')' "memberId"
		FROM TBL_MEMBER a , TBL_NOTICE_BOARD b
		where a.id = b.MEMBER_ID order by b.num desc
	</select>
	
	<!-- 계시물 세부 조회 -->
	<select id="getBoardDetail" resultType="com.newlec.domain.NoticeBoardVO">
		SELECT NUM, TITLE, CREATED_DATE　"createdDate", HIT, a.id ||'('|| a.username ||')' "memberId"
		FROM TBL_MEMBER a , TBL_NOTICE_BOARD b
		WHERE a.id = b.MEMBER_ID and NUM = #{num}
	</select>

	<!-- 게시물 등록 -->
	<insert id="insertBoard" parameterType="com.newlec.domain.NoticeBoardVO">
		INSERT INTO TBL_NOTICE_BOARD(
			NUM, TITLE, CREATED_DATE, HIT, MEMBER_ID, CONTENT
		) values(
			seq_notice_board.nextval, #{title}, SYSDATE , 1, #{memberId}, #{content}
		)
	</insert>
	
</mapper>